<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/navbar.css">
</head>

<body>

  <nav class="navbar">
    <div class="logo-container">
      <a href="/" class="logo-link">
        <div class="logo-text">

          <div class="company-name">
            <% user.companyName.split(" ").forEach((word, index) => { %>
              <span class="word-color-<%= index %>"><%= word %></span>
            <% }) %>
          </div>

          <div class="company-slogan">Smart Solutions for Smarter Teams</div>
        </div>
      </a>
    </div>

    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/workers">Workers</a></li>
      <li><a href="/tasks">Tasks</a></li>
      <li><a href="/attendance">Attendance</a></li>
      <li><a href="/salary">Salary</a></li>
    </ul>

    <div class="profile-dropdown">
      <!-- <img src="/images/profile.png" alt="Profile" class="profile-icon" onclick="toggleDropdown()" /> -->

      <div class="profile-icon" onclick="toggleDropdown()">
        <%= user.companyName.charAt(0).toUpperCase() %>
      </div>

      <div class="dropdown-menu" id="dropdownMenu">
        <a href="/profile">View Profile</a>
        <a href="/logout" onclick="return confirm('Are you sure you want to logout?')">Logout</a>
      </div>
    </div>
  </nav>

  <script>
    function toggleDropdown() {
      const menu = document.getElementById('dropdownMenu');
      menu.classList.toggle('show');
    }

    window.onclick = function (event) {
      if (!event.target.matches('.profile-icon')) {
        const dropdowns = document.getElementsByClassName("dropdown-menu");
        for (let i = 0; i < dropdowns.length; i++) {
          let openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    };
  </script>

</body>

</html>